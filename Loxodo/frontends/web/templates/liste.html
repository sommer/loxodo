<!doctype html>
<head>
<title>List entries in opened vault</title>
<script type="text/javascript">

  function showElementByVisible(obj) {
    if (document.getElementById(obj).style.visibility == "hidden") {
      document.getElementById(obj).style.visibility = "visible";
      document.getElementById("show_hide_pwd_bt_"+obj).value="Hide Password";
    } else {
      document.getElementById(obj).style.visibility = "hidden";
      document.getElementById("show_hide_pwd_bt_"+obj).value="Show Password";
    }
  }

</script>
<link href="static/stylesheets/style.css" media="screen" rel="stylesheet"      type="text/css" />
</head>
<body>
  <div id="header_wrapper">
    <div id="header">
      <div id="site_title">
        <h1>List entries in opened vault</h1>
      </div>
    </div>
  </div>
  <div id="main_wrapper">
    <p>Go back <a href="/">Home</a></p>
    <div>
      <table border="1">
        <tr>
          <th>Group</th>
          <th>Title</th>
          <th>User name</th>
          <th>Password (hidden)</th>
          <th>Notes</th>
          <th>URL</th>
          <th>Last mod. time</th>
          <th>Show password</th>
        </tr>
          {% for record in vault_records %}
          <tr>
            <td>{{record.group.encode('utf-8', 'replace')}}</td>
            <td>{{record.title.encode('utf-8', 'replace')}}</td>
            <td>{{record.user.encode('utf-8', 'replace')}}</td>
            <td id="{{record.last_mod|get_html_id}}" style="visibility: hidden">{{record.passwd.encode('utf-8', 'replace')}}</td>
            <td>{{record.notes.encode('utf-8', 'replace')}}</td>
            <td>{{record.url.encode('utf-8', 'replace')}}</td>
            <td>{{record.last_mod|datetimeformat}}</td>
            <td><input id="show_hide_pwd_bt_{{record.last_mod|get_html_id}}" type="button" value="Show Password" onClick="showElementByVisible('{{record.last_mod|get_html_id}}');" /></td>
          </tr>
          {% endfor %}
	 <tr>
		<td colspan="8"> </td>
	</tr>
      </table>
    </div>
 </div>
</body>
